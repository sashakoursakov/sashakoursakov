Слава Богу!
Слава Богородице!
Слава Иисусу Христу!

UNIX и LINUX+
Руководство сисадмина.
Cоветы и рекомендации
Я так думаю
Есть мнение

О любви

Бог есть любовь. Первое послание святого апостола Иоанна 4, 8 и 4, 16.

Величайшая радость в жизни человека - быть любимым, но не меньшая - самому любить. Плиний младший.

Жизнь научила нас тому, что любовь состоит не в том, чтобы не
отрывать друг от друга глаз, а в том, чтобы смотреть вместе в одном направлении.
Антуан де Сент Экзюпери

Самое верное средство завоевать любовь других - подарить им
свою любовь. Жан Жак Руссо

Храни любовь в сердце своем. Жизнь без нее подобна
бессолнечному саду с мертвыми цветами. О. Уайльд.

Если ты столкнулся с противником, победи его любовью. Махатма Ганди.

Никогда не ждите и не требуйте за любовь любви, за смирение –
похвалы, за службу – благодарности. Старайтесь остаться без земных наград, чтобы
не потерять наград небесных. Савва Псково-Печерский

Какую бы ты ни представил вину, ничто не будет несноснее
раздора с женой. Поэтому пусть любовь к ней будет для тебя драгоценнее всего.
Иоанн Златоуст

Любовь — это теорема, которую необходимо каждый день
доказывать. Аристотель

Любовь никогда не требует, она всегда дает. Любовь всегда
страдает - никогда не выражает протеста, никогда не мстит за себя. Махатма Ганди

Любовь — над бурей поднятый маяк, Не меркнущий во мраке и
тумане, Любовь — звезда, которою моряк Определяет место в океане. У. Шекспир

Любовь… одна дороже богатства, славы и мудрости… дороже самой
жизни, потому что даже жизнью она не дорожит и не боится смерти. Куприн А. И.

Бог есть любовь; это единственная истина, которую я всецело
признаю. Любовь равна Богу. Махатма Ганди

В Послании к Римлянам: «Ибо заповеди: не прелюбодействуй, не убивай, не кради, не лжесвидетельствуй,
не пожелай [чужого] и все другие заключаются в сем слове: люби ближнего твоего, как самого себя» (Рим. 13:8-10).

В Послании к Галатам: «весь закон в одном слове заключается: люби ближнего твоего, как самого себя» (Гал. 5:13-15).

В Послании Иакова: «закон царский, по Писанию: возлюби ближнего твоего, как себя самого» (Иак. 2:7-9).

Любовь - это имя девушки или женщины...

Больше, чем любовь = Любовь в квадрате

И. С. Тургенев. Путь к Любви (с комментами)
Все чувства могут привести к любви, к страсти, все: ненависть, сожаление, равнодушие, благоговение, дружба, страх, — даже презрение...
Да, все чувства... исключая одного: благодарности (благо дарю, спасибо, спаси Бог, спаси Господи merci thank you День Благодарения в США и Канаде).
Но легко ли даже просто сказать такое простое слов: спасибо???
Благодарность — долг; всякий честный человек плотит свои долги... но любовь — не деньги (In God we trust на долларах США).
Бог есть Любовь. 1 Ин. 4, 8 и 1 Ин. 4 16.

Любовь зажигает больше огней, чем ненависть гасит. Love lights more fires than hate extinguishes. - Элла Уилер Уилкокс.



Использованы материалы книги:
UNIX и LINUX
Руководство системного
администратора
4-е издание
Эви Немет
Гарт Снайдер
Трент Хейн
Бэн Уэйли и другие
LINUX AIX HP-UX SOLARIS
М СПБ Киев 2012
1300 страниц pdf
цена во flip.kz (03 2018) = 27 000 KZT


Правила сетевого этикета:
1. Загрузка
2. Пароль
3. Firewall
4. Браузер
5. Музыка...


System V - разновидность UNIX

Nutshell - справочники в двух словах

http://www.admin.com

Во многих организациях работа сисадмина поручается
команде специалистов.



Системы сборки файлов в Linux из исходников :

makefile

Cmake

Automake

Meson

Waf

SCons

qmake

imake

Apache Ant

Apache Maven

Gradle

Ninja

Qbs

bash/sh/etc скрипты

build в IDE

flower

leiningen

tup

Zoner`s Half-Life Tools



Исправление ошибок инсталляции:
# apt install -f

# apt-get install ...
# apt-get upgrade
# apt-get update
# apt-get dist-upgrade

Уровни безопасности:

1. Физический
2. В локальной сети
3. В сети интернет
4. Слава Богу!

Работа сисадмина:
1. Работа со сценариями
2. Инициализация пользователей
3. Подключение и удаление аппаратуры
4. Резервное копирование (backup)
5. Инсталляция и удаление программ
6. Мониторинг системы
7. Поиск неисправностей
8. Ведение локальной документации
9. Слежение за безопасностью.
10. Оказание помощи пользователю

Узнать размер ОЗУ :

free

top

cat /proc/meminfo


BIOS: F2 F12 DEL F1

Лекция для сисадмина:
Надо:
1. Уважать частную жизнь других людей
2. Думать, прежде чем печатать.
3. С большой силой приходит большая ответственность.

Большинство задач сисамина решаются путем редактирования
конфиг-файлов и написания сценариев.


# passwd root
# passwd
в консоли

Для смены пароля root перейди в режим
восстановления
либо переустановка дистра с новыми сложными
паролями

Самый безопасный режим - OFF


GRUB ---> single ---->>> инит bash --->> смена пароля


Редакторы :
vi vim medit emacs kwrite nano kate

Для новых проектов рекомендуются языки
Perl или Python или ruby
Еще рекомендация - expect

LINUX - измененная
и усовершенствованная реализация
ядра ОС UNIX

LINUX соответствует стандарту POSIX

Браузеры:
Firefox
Opera
Seamonkey
Lynx
Links2
Netscape Navigator
Mosaic
NetSurf
Chromium
PaleMoon
Midori
Tor
Arora
IE
Edge
Vivaldi
Luakit

Слава Богородице!!!


Важные дистрибутивы LINUX:

Debian

Red Hat

SUSE

Наиболее популярные
дистрибутивы :

CentOS
Debian
Fedora
Gentoo
Linux Mint
Mandriva
openSUSE
ORACLE ENTERPRISE LINUX
PCLINUXOS
RED FLAG
RED HAT
SUSE LINUX ENTERPRISE
BackTrack
Kali Linux
Parrot
Knoppix
Finnix
Ubuntu
Mint
Arch
UCE


Не забывай менять IP и MAC-адрес

Сайт ядра Linux:
http://www.lkml.org

Слава Богородице!!!


Перечень дистрибутивов Linux -

linux.org/dist

lwn.net/distributions

distrowatch.com

википедия


ubuntu основан на debian


Некоторые веб-ресурсы:

bhami.com/rosetta.html

linux.com

linux.org

ugu.com

lwn.com

freshmeat.Net

lxer.com

linxhq.com

linux.slashdot.org


basic в linux:

bwbasic

xbasic

smallbasic

freebasic

gambas3

etc...


BASIC:

print " Hello, World!!"


Pascal:

Pragram Hello

var

Begin

WRITELN ("Hello, World!!")

end.
++++++++++++++
output: Hello, World!!


Рекомендуется пользоваться пакетами созданными для
конкретной системы.

Чем больше вы будете знать о своей системе,
тем больше пользователей будет зависеть от вас.
Вам придется быть и писателем и инженером
и специалистом по психоанализу.

#! /bin/bash
eho "Hello, world"

$ chmom +x helloworld
$ ./ helloworld

Две последние команды - мы сделали этот файл
исполняемым

Системный инженер - его задача в том, чтобы
компьютер включался,
сетевой инженер - его задача в том, чтобы
компьютер выходил в интернет.

Слава Богородице!

Утилиты типа YAST в SUSE упрощают администрирование.

Достичь цели можно несколькими путями.

Язык Perl:
#! /usr/bin/perl
print "Привет\n";

$ chmod +x helloworld
$ ./ helloworld

Привет


Язык python:

#! /usr/bin/python
print "Привет, мир!"

$ chmod +x helloworld
$ ./ helloworld


Создание файла подкачки
# su -
# password
# fallocate -l 8G /swapfile

Проверка:
# ls -lh /swapfile
# chmod 600 /swapfile
# mkswap /swapfile
# swapon /swafile
проверка :
# swapon --swow

chmod - устанавливает бит файла как "исполняемый"

UNIX и LINUX ориентируются на бит файла,
а не на расширение (как в Windows)

Perl и Python предлагают больше возможностей, чем bash

Начальная загрузка - это
период особой уязвимости системы

Ядро Linux - обычно это /boot/vmlinuz

Программы:
Firefox
Filezilla
Amarok
Kaffeine
KWrite
AbiWord
KOffice
KNotes
KCalc
Audacity
Kolourpaint
KsCD
JuK
K3b
VLC
Konsole
Dolphin


Как вы занимаетесь самообразованием?
Читаю профессиональную литературу
Читаю статьи на профильных сайтах
Хожу на конференции
Задаю вопросы экспертам (на работе, в чатах, на форумах)
Хожу на курсы (хотя бы раз в год)
Получаю N-высшее образование в вузе
Смотрю видео на YouTube, Vimeo, etc
Придумываю себе задачу и пробую ее решить
Общаюсь с другими людьми по интересующей меня теме
Прохожу удаленные курсы
Ничего не делаю
Лучше один раз увидеть
Занимаюсь делом
Задаю вопросы экспертам
Метод тыка
Смотрю аниме
Задаю вопросы себе и пытаюсь на них ответить, в процессе чего становлюсь экспертом.
Читаю кодекс в Kingdom Come Deliverance
Просто иногда можно стучаться в закрытые двери, а решение будет в совершенно другом. Ну или просто топтаться долго на одном месте
Сплю 24/7
Что порекомендуешь прочесть?

Исследование о домофонах:
Cекретный код домофона VIZIT моего подъезда :
#1234
Домофон не работает (открыт) при отключении электроэнергии
Можно подложить камешек под дверь домофона
Можно подождать когда кто-то будет проходить через домофоную дверь...

Протокол Порт

HTTP 80

SMTP 25

LDAP 329

TELNET 23

SHELL 514

FTP 21

FTP-DATA 20

IMAP 143

POP3 110

IRC 194

HTTPS 443

SMTPS 465

LDAPS 636

TELNETS 992

SSH 22

FTPS 990

FTPS-DATA 989

IMAPS 993

POP3S 995

IRCS 994


Православно-христианские фильмы, которые мне понравились:

"Иерей-сан" режиссер Егор Баранов в главной роли Кэри-Хироюки Тагава
Священника из Японии отправляют на работу в Россию...

"Поп (Преображение)" режиссер Владимир Хотиненко, в главной роли Сергей Маковецкий
О работе одного священника в годы Великой Отечественной войны...

"Старец Паисий, и я, стоящий вверх ногами", режиссер Александр Столяров
(Паисий Святогорец Афонский - святой с Афона, Греция)

"Монах и бес" режиссер Николай Досталь в главной роли Тимофей Трибунцов
Юмор и чудеса...

"Проповедник с пулеметом" 2011 год режиссер Марк Форстер, про Сэма Чайдлерса (Джерард Батлер)
Байкер Сэм Чайлдерс имел множество проблем с законом, но после выхода из тюрьмы,
вняв мольбам жены Линн, начал посещать церковь....



Возлюби Господа Бога твоего всем сердцем твоим, и всею душею твоею, и всем разумением твоим:
сия есть первая и наибольшая заповедь; вторая же подобная ей: возлюби ближнего твоего, как самого себя.
Святое Евангелие от Матфея 22, 36-40.

Бог есть любовь. 1-е послание святого апостола Иоанна 4, 8.

Итак, во всем, как хотите, чтобы с вами поступали люди, так и вы поступайте с ними.
Святое Евангелие от Матфея 7, 12. Золотое правило этики.

Будьте совершенны, как совершен Отец ваш Небесный. Евангелие от Матфея глава 5, стих 48.

Я пришёл для того, чтобы имели жизнь и имели с избытком. Евангелие от Иоанна 10, 10 - слова Иисуса Христа.

Богу же всё возможно. Евангелие от Матфея глава 19, стих 26.

Ищите же прежде Царства Божия и правды Его, и это всё приложится вам.
Евангелие от Матфея глава 3, стих 33, cлова Иисуса Христа.

Итак, будьте милосерды, как и Отец ваш милосерд. Евангелие от Луки 6, 36.

Истинно, истинно говорю вам: верующий в Меня имеет жизнь вечную. Ин. 6, 47. Слова Иисуса Христа.

Истинно, истинно говорю вам: слушающий слово Моё и верующий
в Пославшего Меня имеет жизнь вечную. Ин. 5, 24. Слова Иисуса Христа.

Евангелие от Иоанна 11, 25-26: Иисус сказал ей: Я есмь воскресение и жизнь; верующий в Меня,
если и умрёт, оживет. И всякий, живущий и верующий в Меня, не умрет вовек.

Евангелие от Марка 9 - 23: Иисус сказал ему: если сколько-нибудь можешь веровать, всё возможно верующему.

Истинно, истинно говорю вам: верующий в Меня, дела, которые творю Я, и он сотворит,
и больше сих сотворит. Слова Иисуса Христа из Евангелия от Иоанна 14, 12.

Святое Евангелие от Матфея 18, 20, слова Иисуса Христа: где двое или трое собраны во имя Мое, там Я посреди них.

Евангелие от Матфея 11, 28, слова Иисуса Христа: Придите ко Мне все труждающиеся и обремененные, и Я успокою вас.

Евангелие от Иоанна 8, 32, слова Иисуса Христа: И познаете истину, и истина сделает вас свободными.

Ибо Господь дает мудрость; из уст Его - знание и разум; Он сохраняет
для праведных спасение; Он - щит для ходящих непорочно. Притчи 2, 6-9.

1-e послание апостола Павла к апостолу Тимофею 2, 4: (Бог хочет - примечание моё)
чтобы все люди спаслись и достигли познания истины.

1-e послание апостола Павла к апостолу Тимофею 6, 10: Ибо корень всех зол
- сребролюбие (любовь к деньгам, богатству - примечание моё).

А тем, которые приняли Его (Иисуса Христа - примечание моё), верующим во
имя Его (Иисуса Христа - примечание мое), дал власть быть чадами Божиими. Евангелие от Иоанна 1, 12

Тот, кто поверит и примет Крещение, будет спасён. Святое Евангелие от Марка 16, 16.

Многое и другое сотворил Иисус; но, если бы писать о том подробно,
то, думаю, и самому миру не вместить бы написанных книг. Святое Евангелие от Иоанна 21, 25.



Демон init имеет идентификатор процесса PID = 1

Обычно sched имеет идентификатор = 0 - UNIX

Задача Grub - загрузить ядро

Существуют GRUB и GRUB2

По умолчанию GRUB читает параметры загрузки из файла
/boot/grub/menu.lst
или /boot/grub/grub.сonf

Нажатие клавиши <Tab>
позволяет вывести на экран краткий список команд.

Игры
Linux Dos/Windows
Pingus Pipeline
Kpat Formula1
Kpatience Русский вариант монополии
KnetWalk Dangerous Dave
Дуэль KSnake Karateka

Текст-редакторы:
Abiword
KOffice


Однопользовательский режим при GRUB
Чтобы обеспечить загрузку в однопользовательском режиме добавим флаг
single
в конец опций ядра.
Пример:
grub append> ro root=LABEL=/ rhgb quiet single

Лучше корректно завершить работу

Команда shutdown
Параметры:
time - время
-r - перезагрузка
-h - останов
- вход в однопользовательский режим

computers
top-500
1. Sunway TaihuLight
1.45 Ghz
National Supercomputing Center
in Wuxi
China
Cores 10,649,600
Rmax Tflops/s 93,014.6
Rpeak Tflops/s 125,435.9
Power 15,371 kW

Жизнь - тяжело только первые 80 лет...

Команда halt - останов систмы
Аналог shutdown -h

Команда reboot - перезагрузка
аналог shutdown -r

root - суперпользователь может действовать как
владелец любого объекта в системе

SELinux - это реализация
системы принудительного управления доступом доступа

Пароль root должен быть не менее 8 символов

Cray Linux
UNICOS

http://www.cray.com - суперкомпьютеры

Слава Богородице!!!

Пароли не должны быть доступны для случайных лиц.

Смена пароля:
- через какое-то время
- когда кто-то, кто знает пароль, увольняется
- когда безопасности системы что-то угрожает.

Пароли лучше записывать в зашифрованном виде.

Для работы в режиме суперпользователя
используется sudo.
Или su или su -

KeePass - менеджер паролей.

Процесс - это выполняющаяся программа

Ctlrl + z
ctrl + c
kill
- останов процесса

Состояние процесса:
выполнение
ожидание
зомби
останов

kill [-сигнал] идентификатор

ps aux - получить список всех процессов

Слава Богородице!!!

Еще один полезный аргумент команды ps

- lax предоставляет дополнительную техническую информацию.

Пояснения к выходной информации команды ps aux :

user имя владельца процесса

pid идентификатор процесса

%cpu доля времени центрального процессора (в %),
выделенная процессу

%mem часть реальной памяти (в %),
используемая процессом

Слава Богородице!

vsz виртуальный размер процесса

rss размер резидентного набора (количество страниц памяти)

tty идентификатор управляющего терминала

stat текущий статус процесса:

r выполняется

d ожидает записи на диск

s неактивен (< 20 с)

t приостановлен

z зомби

Дополнительные флаги:

w процесс выгружен на диск

< процесс имеет повышенный приоритет

l некоторые страницы блокированы в оперативной памяти

s процесс является лидером сеанса

time количество времени центрального процессора,

затраченного на выполнение процесса

command имя и аргументы команды

Слава Богородице!


Поясенения к выходной информации команды

ps -ef (обрати внимание на дефис)

UID идентификатор пользователя

PID идентификатор процесса

PPID идентификатор родительского процесса

С информация об использовании/планировании

времени центрального процессора

STIME время запуска процесса

TIME количество времени центрального процессора,

затраченное на выполнение процесса


TTY терминала

СOMMAND имя и аргументы команды

Пояснения к выходной информации команды ps -elf

F флаги процесса

S cтатус процесса

О выполняется

R готов к выполнению

Z зомби

S неактивен

(ожидает событие)

T приостановлен или отслеживается

D полностью неактивен (обычно диск)

С информация использовании / планировании времени центрального процессора

Р запланированный приоритет (внутренний для ядра, отличный от значения фактора "уступчивости")

NI значение фактора "уступчивости" или SY для системных процессов

ADDR адрес процесса

SZ размер (в страницах) процесса в основной памяти

WCHAN адрес объекта, которого ожидает процесс


Слава Богородице!!!


Команда top

(AIX - topas

Solaris - prstat)

Наиболее активные процессы отображаются первыми.
Команда top позволяет также посылать процессам сигналы.

/etc - критические системные файлы и файлы конфигурации

/sbin/bin/ - важные утилиты

/tmp - временные файлы

/lib - библиотечные файлы

/usr - стандартные программы, документация.


Стандартные каталоги:


/bin команды ОС ядра

/boot ядро и файлы для его загрузки

/dev файлы устройств

/home домашние каталоги пользователей

/lib библиотеки

/media точки монтирования фйловых систем на съемных носителях

/mnt временные токи монтирования

/opt программные пакеты необязательных приложений

/proc информация о всех выполняющихся процессах

/root или

/ домашний каталог суперпользователя

/sbin команды для обеспечения минимальной работоспособности системы

/tmp временные файлы

/usr иерархия дополнительных файлов

/usr/bin большинство команд и исполняемых файлов

/usr/include файлы заголовков, для компиляции С программ

/usr/lib библиотеки и вспомогательные файлы для стандартных программ

/usr/lib64 64-разрядные библиотеки

/usr/local локальные программы

/usr/sbin менее важные команды системного администрирования

/usr/share элементы, общие для разных систем

Слава Богородице!

/usr/share/man страницы интерактивной документации

/usr/src исходные коды нелокальных программ

/usr/tmp дополнительный каталог для временных файлов

/var системные данные и конфиг-файлы

/var/adm разное: журнальные файлы, записи об инсталляции,
административные компоненты

/var/log системные журнальные файлы

/var/spool буферные каталоги для принтеров, электронной почты

/var/tmp для временного хранения файлов


Слава Богородице!


Государственная бюджетная программа "Цифровой Казахстан"

на 2018-2022 годы, утвержденная постановлением правительства

Республики Казахстан № 827 от 12 декабря 2017 года:

на реализацию Программы в 2018 - 2022 годах

будут направлены средства бюджета

в размере 141 048 387 тыс. тенге , в

том числе :

2018 год - 21 544 099 тыс. тенге ($67.3 млн. по курсу 325)

, а также средства из

других источников финансирования,

не запрещенных

законодательством Республики Казахстан.


Команда rm - универсальное средство удаления данных.


Код доступа к файлу можно изменить командой chmod.

Это могут сделать владелец файла и root.


Файл /etc/passwd содержит список пользователей,

а файл /etc/shadow список паролей.


Слава Богородице!


При подключении нового пользователя надо,

чтобы принял соглашение о правилах работы

в системе.



useradd добавление пользователей

adduser - то же

newusers - добавление нескольких пользователей


Практически во всех случаях лучше работать с решениями, принятыми

в системе по умолчанию


Важные функциональные возможности:

1. Высокая производительность

2. Устойчивость к отказам без повреждений

3. Способность работать с большими объемами.


Рекомендуется файловая система ext4.


Лучшая политика страхования - создать резервный файл или диск.


Каталог lost+found хранит файлы, для которых невозможно

определить родительский каталог.


Ядро должно распознавать устройство и назначить ему файл устройства.


В большинстве случаев предпочтительнее, чтобы важные функции

автоматически выполнялись.


Многие свойства естественным образом наследуются дочерними процессами.

Рекомендуется создать отдельный рабочий каталог для

отдельной файловой системы.


Ключ к устойчивости и надежности систем лежит в

атоматизации выполняемых в ней задач и успешном написании

сценариев. Например, команда adduser может подключать

новых пользователей быстрее, чем это сделает админ вручную,

причем с меньшей вероятностью ошибки.

Практически любую задачу можно запрограммировать

в сценариях интерпретатора команд либо на языках Perl или

Python.

Иногда желательно, чтобы сценарий или команда выполнялись

без вмешательства оператора. Можно,

в частности, сделать так, чтобы сценарий проверял

(скажем, каждые полчаса) как работают сетевые маршрутизаторы

и мосты, и при обнаружении проблем посылал админу

сообщение по электронной почте.


Стр. 330 pdf


Слава Богородице!!!


Демон cron : системный планировщик

Файл конфигурации демона cron называется crontab

Пользовательские crontab-файлы хранятся в каталоге

/var/spool/cron

Для каждого пользователя создается не более 1-го такого файла:

например- для root, пользователя jsmith и так далее...

формат строки crontab-файла:

# - комментарий

минута час день месяц день_недели команда


Слава Богородице!!!


Демон cron можно использовать для простых напоминаний:

о днях рождения, времени платежа, периодически

повторяющихся задачах и так далее...



Храните носители вне рабочего помещения.


Инкрементное архивирование - архив только

измененных файлов с даты последнего архива.

Самые распространенные программные средства создания

резервных данных - команды

dump и restore.


Слава Богородице!


Еще применяется команда tar и команда dd.


Команда Bacula - это программ резервного копирования систем

"клиент/cервер". стр 367


Алтернативы программе Bacula:

Amanda

rsync

star

Mondo Rescue.


Журналы регистрации - это текстовые файлы.

Эти файлы хранятся в папках /var/adm или

/var/log

Файл wtmp (иногда wtmpx) содержит записи о том,

когда пользователи входили в систему и выходили из

нее, а также когда система выключалась или

перезагружалась.

Расшифровать содержимое файла можно командой last.

Syslog - это полнофукциональная система

регистрации событий, написанная Эриком Оллманом.

Программы обработки журнальных файлов:

swatch и logcheck. Их можно загрузить

с сайта sourceforge.Net

Для обработки журнальных файлов:

splunk

sec.


стр 408


Большинство событий, связанных с безопасностью,

должно просматриваться немедленно.

Важно отслеживать неудачные попытки входа в систему,

неудачные вызовы su и sudo, чтобы предотвратить

возможный взлом системы, пока еще не поздно.

Если кто-то неправильно ввел свой пароль (как чаще всего

бывает), то оперативное предложение помощи

произведет хорошее впечатление и повысит репутацию

сисадмина.

Сообщения о нехватке места на диске должны

помечаться и немедленно обрабатываться.


Слава Богородице!


Когда диск переполнен, работать с ним невозможно.


Многократно повторяемые события заслуживают внимания, хотя бы

в целях профилактики.


Команда rpm инсталлирует, проверяет и запрашивает состояние пакетов.

Команда rpmbuild создает пакеты.

Обычно используют опции

-i (install)

-u (upgrade)

-e (erase)

-q (query)

В Debian аналогом команды rpm является команды dpkg.

Ее полезные опции:

--install

--remove, а -l

перечисляет пакеты, инсталлированные в системе.

Системы управления пакетами, такие как APT и YUM,

а также Red Hat Network -

упрощают определение и местонахождение и загрузку пакетов,

автоматизируют процесс обновления или

модернизации системы, способствуют управлению

зависимостей между пакетами.

apt-get update - обновить информацию о пакетах

apt-get install пакет - инсталлировать пакет

apt-mirror - отслеживание обновлений, связанных с безопасностью

apt-get dist-upgrade загрузит и инсталлирует новые версии

любых пакетов, имеющихся на локальном компьютере.

Пример.

#! /bin/sh
apt-get update
apt-get -yes dist-upgrade

Yum похожа на apt-get, но проще и медленнее.

Лучше работать по своему плану, чем по чьему-то.

Важно протестировать изменения. пока их еще можно

отменить.


Особое внимание к компьютерам, выполняющим ключевые задачи.


Утилита cfengine - утилита локализации - компьютерная имунная система.


LCFG - крупномасштабная система конфигурирования.


Template Tree 2 - помощник cfengine

Админ организует работу пользователей.

Ядро -/vmlinuz или /boot/vmlinuz


Используйте везде, где только возможно, динамические модули.

Как можно меньше работайте "на заказ".

Каждая строка указывает на активизацию того или иного параметра.

Формирование файла конфигурации - самый важный этап

конфигурирования.

/etc

/usr


Не выполняй команды, если не знаешь точно, что делаешь.


TCP/IP лежит в основе интернета.


ICANN - корпорация по назначению имен и адресов в интернете

http://www.icann.org

ISOC - сообщество пользователей Интернет.

http://www.isoc.org

Проблемная группа проектирования Интернета

ietf.org

IGF (Internet Government Forum)

intgovforum.org

RFC1925 - 12 сетевых истин

RFC4041 - Моральный кодекс маршрутизатора

IP-адрес идентифицирует сетевые интерфейсы, а не машины

Команда ifconfig используется для подключения и

отключения сетевого интерфейса, а также задания его

IP-адреса, маски подсети и др.

Она обычно выполняется на этапе начальной загрузки.

Команды ethtool и mii-tool запрашивают и

устанавливают параметры сетевого интерфейса.

Пример. ethtool eth0

Стремись к автоматизации процессов.

Команда show running

позволяет узнать текущие димамические параметры

маршрутизатора, а по команде show config

отображаются текущие неизменяемые параметры.

Распространенными стандартами беспроводных сетей яв-ся

IEEE 802.11g и 802.11n.


Cредства для анализа беспроводных сетей

компании AirMagnet.

Анализатор сетевых соединений пакетов - программа Wireshark.

Делайте все правильно с 1-го раза.

Сеть - как цепь: её качество определяется самым слабым или самым

медленным звеном.

BIND (BERKELEY Internet Domain Name System) -

соданное консорциумом ISC открытое ПО,

реализующее протокол DNS для Linux Unix MacOS Windows.


Слава Богородице!!!


Фильмы о психушках:

Rain Man Человек дождя
Том Круз Дастин Хоффман

Asylum Психушка
Роберт Патрик


Степень безопасности, обеспечиваваемая неясностью с загадками и головоломками.


В пакет BIND входят:

1. Демон сервера имен named, отвечающий на запросы

2. Библиотечные функции, контактирующие с серверами

распределенной базы DNS от имени пользователей

3. Утилиты NSLOOKUP, DIG и HOST, позволяющие

выполнять DNS-запросы из командной строки.

4. Программа rndc для дистанционного управления демоном

named.

В конфиг-файле named.conf демона named задается роль

узла (главный, подчиненный, тупиковый или только

кеширующий) и определяется способ,

которым он должен получать копию записей о данных

каждой зоны, которую он обслуживает.

Здесь же и всевозможные параметры.

Инструкции, используемые в файле named.conf

табл. 17.9 стр. 644

Сервер BIND использует систему Syslog для

записи сообщений об ошибках.

Все 3 сервера имен поставляются с управляющими

программами: nsdc-демон nsd, rndc-демон named,

unboud-control-демон unbound.

Глава 1 Сетевой протокол Network File System

Команда nfsstat отображает раличные статистичские

данные, накапливаемые в системе NFS.

nfsstat -s - выдает статитстику процессов сервера

NFS,

nfsstat -c - инфо, касающуюся клиентских операций

Регулярное выполнение команд nfsstat и netstat и

анализ выдаваемой ими информации помогут

админу выявить возникающие в NFS проблемы раньше,

чем с ними столкнутся пользователи.

Простое копирование файлов

не является идеальным решением совместного

использования, но оно применимо на всех типах

компьютеров и отличается простотой настройки и

сопровождения. Оно также надежно, но легче

нарушить синхронизацию систем.

Проще всего распространять файлы с центрального

сервера с помощью утилиты rdist.

rdist : принудительная рассылка файлов

Некоторые системы распространяют файлы

конфигурации путем опубликования их на сервере

NFS. Это, пожалуй, самый простой метод с точки

зрения автоматизации- все, что вам нужно на стороне

клиента, сосредоточено в сp.


Восстановление файлов в Linux:

Safecopy

TestDisk

PhotoRec...


Оказавшись от модели совместно используемых файловых систем,

вы можете рассмотреть и другие варианты. Системы копирования

файлов могут работать по модели принудительной рассылки

(push system) либо модели рассылки по запросу (pull system).

Утилита rsync : более безопасная рассылка файлов.

Чтобы активровать работу сервера в Linux, вам нужно будет

отредактировать файл /etc/xinetd.rsync поменяв строку

disable=yes на disable=no.

LDAP (Lightweigt Directory Access Protocol) -

упрощенный протокол доступа к каталогам.

OpenLDAP : традиционный LDAP-сервер с открытым исходным кодом.

389 Directory Server : альтернативный LDAP-сервер с открытым

исходным кодом

19.4 NIS: Сетевая информационная служба

/bin/mail - первый пользовательский агент эл. почты.

Популярные клиенты:

Thunderbird, Alpine, Zimbra и Microsoft Outlook.

Веб-службы: Gmail, Hotmail, Yahoo! Mail.


Слава Богородице!!!


Программы для работы со списками рассылки:

Mailman и Sympa.

20.8 Почтовый агент sendmail

Сайт : sendmail.org

Установки, сделанные по умолчанию в файле :

devtools/OS/имя-вашей-OS

Можно также добавить новые свойства, отредактировав файл

devtools/site/site.config.m4

Чтобы найти файлы sendmail в своей системе,

посмотрите начало инсталлированного файла

/etc/mail/sendmail.cf

Комментарии, которые там находятся содержат имя каталога,

в котором была собрана данная конфигурация.

Этот каталог приведет к файлу .mc являющемуся

исходным источником конфигурации.


Слава Богородице!!!!


/usr/share/sendmail - место каталога конфигурации

Файл конфигурации:

/etc/mail/sendmail.cf или

/etc/mail/submit.cf


20.4 Почтовый агент Exim

exim.org


20.15 Почтовый агент Postfix

Файл main.cf - главный конфиг-файл Postfix


Программы для эл. почты:

Citadel (citadel.org)

Zimbra (zimbra.org)


Принципы:

- Вносите пошаговые изменения в конфигурацию сети,

тщательно проверяя результаты, чтобы убедиться в получении эффекта.


Изменения, не давшие результат, должны отменяться.


-Документируйте возникшую ситуацию и все вносимые в нее

изменения

-Проблемы могут носить временный характер, поэтому начните

с поиска релевантной информации с помощью утилит,

таких как sar и nmon.

-Начните с "края" системы или сети и продвигайтесь по

ключевым ее компонентам, пока не доберетесь до

источника неисправности.

Например, начните с исследования сетевой конфигурации

клиентского компьютера, затем проверьте

физическое соединение клиента с сетью, сетевое

оборудование и, наконец, сетевые аппаратные средства

сервера и его программную конфигурацию.

-Будьте в курсе событий.



Сетевые проблемы оказывают влияние на многих людей:

пользователей, провайдеров, сисадминов, инженеров по

телекоммуникациям, сетевых админов и т. д.


Слава Богородице!!!


Постоянный контакт с другими спецами позволит вам не мешать

друг другу при решении проблемы.

-Работайте в команде.

Опыт показывает, что люди совершают меньше ошибок, если им

оказывают поддержку

-Помните о многоуровневой структуре сетевых средств.

Начните с верхнего или нижнего уровня и последовательно

продвигайтесь по стеку протоколов, проверяя их работу.

Н-р:

HTTP-TCP-IP-Ethernet-целостность сетевого кабеля


Хакеры бывают разные:

черные

белые

красные.


Про ИБ:

мульт "Пластилиновая ворона"



Пример проверки:

-Есть ли физическое соединение и светится ли индикатор связи

-Правильно ли сконфигурирован сетевой интерфейс

-Отображаются ли в таблицах маршрутизации адреса других

компьютеров

-Есть ли брандмауэр на вашем локальном компьютере

-Если брандмуэр есть, проходят ли через него

ICMP-пакеты утилиты ping и ответы

-Находит ли команда ping узел localhost (127.0.0.1)

-Находит ли команда ping другие компьютеры локальной сети

по IP-адресам

-Правильно ли сконфигурирована служба DNS

-Находит ли команда ping компьютеры в другой сети

-Работают ли высокоуровневые сетевые утилиты, такие какое

telnet или ssh

-Вы правда проверили брандмуэры????

-Не спешите с выводами.

Подумайте, как отразятся последующие проверки и изменения на

других сетевых службах и компах.



FORBES-2017 KZ (Казахстан (((Я живу в столице Казахстана Астане)))))) :

1. Владимир Ким = 2.5 млрд. долларов США

2. Булат Утемуратов = 2.4 млрд. долларов США

3. Тимур Кулибаев, зять президента Казахстана

Нурсултана Назарбаева = 2.2 млрд. долларов США

4. Динара Кулибаева (Назарбаева), дочь президента

Казахстана Н. А. Назарбаева = 2.2 млрд. долларов США

5. Алиджан Ибрагимов = 2.0 млрд. долларов США...



21.2 Команда ping - проверка доступности компьютера

21.4 Команда traceroute - трассировка IP - пакетов

traceroute имя_компьютера

21.5 Команда netstat - получене информации о состоянии сети

21.7 Анализаторы пакетов это:

программы tcpdump и Wireshark

Они следят за трафиком в сети и регистрируют

либо выводят на экран пакеты, удовлетворяющие

заданным критериям.

Утилиты Wireshark и Tshark -

усовершенствованный вариант tcpdump

wireshark.org


21.11 Агент NET-SNMP

21.12 Программа управления сетями - команды пакетами

NET-SNMP, программа Cacti

(строит графики SNMP-переменных), система мониторинга

событий Nagios

rrdtool.org

nagios.org

Анализатор-пакет FlowScan отслеживает каждое соединение

по 7 ключам: источник и IP-адрес получателя, источник и номер

порта назнаения, протокол (TCP, UDP и т.д),

тип службы (ToS) и логический интерфейс.


Инструменты для сбора и анализа данных протокола NetFlow - утилиты nfdump

и nfsen


22. Безопасность.

22.2 Слабые места в системе защиты

1. Человеческий фактор

Ваша стратегия обспечения безопасности должна предусматривать обучение

новых сотрудников.

2. Ошибки в прораммах

Выпуск заплаток и бюллетеней, посвященных вопросам безопасности,

является важной частью работы сисадмина.

3. Ошибки конфигурации.

Сканирование портов и уязвимых мест, может помочь админу выявить

проблему до ее возникновения.

22.3. Ключевые аспекты безопасности.


Православие в Астане (городе, где я живу):

Настоятель Успенского собора игумен Архимандрит Сергий Карамышев

тел 8 705 778 23 24

Протоиерей ключарь Успенки Дмитрий Байдек

тел 8 701 550 60 81

Иерей Виктор Дрожников АПМД apmd.kz

тел 8 701 553 58 13

Иерей Андрей Парфенов

тел. 8 701 944 99 43

Иерей Сергий Пинигин

дежурный священник Успенского собора

тел 8 701 588 68 08

Ольга Юрьевна Варенцова

главная регентша Успенского собора

тел 8 777 247 45 25


Большинство ОС не поставляется с уже готовой защитой.

Еще и настройка, которая осуществляется как во время инсталляции,

так и после нее, изменяет профиль безопасности новых систем.

Админы должны укреплять новые системы, интегрировать в локальную

среду и укреплять их долговременную безопасную эксплуатацию.

Когда к вам придет проверка, вы должны доказать, что следовали

стандартной методологии, особенно если эта методология соответствует

общепринятым рекомендациям и передовым достижениям в вашей области

промышленности.

Для защиты новых систем мы используем технологическую карту. Сисадмин

применяет стандартные меры по укреплению безопасности системы, а админ

по вопросам безопасности проверяет, чтобы эти меры были приняты и ведет

системный журнал.


1. Программные "заплаты".

2. Ненужные службы отключите (и по возможности удалите) все ненужные

службы, особенно - сетевых демонов. Для этого исследования используйте

команды netstat, fuser, lsof.

3. Удаленная регистрация событий.

Единый централизованный регистратор событий может получать сообщения

от разных устройств и предупреждать админов о важных событиях.


Православие в Астане:

sobor.kz

apmd.kz

seminaria.kz

mitropolia.kz

pravrodina.kz

cerkov.kz


Слава Богородице!


4. Резервные копии.

Все части системы регулярно копируются и эта инфо хранится за пределами сайта.

Сейфы, шифрование и проверки.


5. "Вирусы" и "черви" (компьютерные).

Антивирус ClamAV

clamav.Net


Слава Богородице!


УМВР ЧЯДНТ?????


6.Троянские программы.

Будьте в курсе новостей и следите за неприятными сообщениями о программах.


7. Руткиты.

Сценарии распознавания руткитов (такие как chkroot, chkrootkit.org)


Борьба с руткитами :

сохранение данных

переформатирование диска

начало работы "с нуля"


8. Фильтрация пакетов

Необходим брандмауэр или маршрутизатор.


9. Пароли

Сложные пароли и SSH или другой механизм

аутентификации.



Ответ мне 3 03 2018 от магазина flip.kz:

Александр, здравствуйте!

К сожалению,

книг по Вашему запросу нет в продаже

у наших поставщиков, не сможем их предоставить.







10 03 2018 года:

ноутбуки Acer Apple ASUS DELL HP Lenovo MSI,

с предустановленной ОС Linux,

Intel Core i7 3.1 ГГц, 8 ядер,

DDR4,

ОЗУ 32 Гб,

2 Тб HDD, SSD 512 Гб,

NVIDIA видеокарта встроенная,

LAN WI-FI,

сенсорный экран матовый 17.3 дюйма,

клавиатура влагостойкая, подсветка, цифровой блок,

внешний DVD RW Blu Ray,

все разъемы, 4 USB,

3840x2160 ULTRA HD 4K


Хочешь хорошо знать компьютер???

Поступай в университет на учебу, прочитай 10-20-50 книг по

компьютерам, занимайся всю жизнь компьютерами...


10. Бдительность.

Надо следить за состоянием системы, таблицей процессов.

Проблема всегда начинается с малого, а затем нарастает, как снежный ком,

так что чем раньше будет обнаружена аномалия, тем меньшим окажется ущерб.


11. Общие принципы защиты.

Эффективная система безопасности должна базироваться на здравом смысле.


Пример правил защиты:

- Не оставляйте без присмора файлы, которые могут представлять интерес

для

хакеров и не в меру любопытных сослуживцев.


Слава Богородице!!


Коммерческие тайны, персональные досье, бухгалтерские ведомости,

результаты выборов и так далее -

за всем этим нужен присмотр.

Гораздо надежнее зашифровать данные, чем просто пытаться предотвратить

к ним несанкционированный доступ.

- В организации должен существовать порядок работы

с конфиденциальной информацией.

- Старайтесь, чтобы в системе не было мест, где хакеры могли бы

закрепиться. Хакеры часто вламываются в одну систему, а затем используют ее

как базу для взлома других систем.


Linux:

в 2006 году -

несколько тысяч дистрибутивов

Источник: pdf Карла Шредер. " LINUX. Сборник рецептов. Книга

практических советов для пользователей и

системных адмнистраторов".


Иногда хакеры используют вашу сеть для сокрытия своих

следов во время атаки реальной цели. Уязвимые

службы с открытым доступом, каталоги,

доступные для записи по протоколу FTP

в анономном режиме, групповые учетные записи,

учетные записи с плохо подобранными паролями -

вот основные уязвимые места.

-Устанавливайте ловушки для обнаружения

вторжения или попыток вторжения.

Помогут программы: ossec, bro, snort, john the ripper



Как изучить Linux?

1. Ставишь дистрибутив на компьютер

2. Пользуешься им...

3. Изучаешь его...


Be nice! Be nice! Be nice! Be happy!


- Следите за отчетами, которые генерируются этими утилитами.

Незначительная проблема, проигнорированная в отчете, к моменту

получения следующего отчета может перерасти в катастрофу.

-Учитесь защищать системы своими силами. Применяйте

традиционные технологии, обучайте пользователей,

руководствуйтесь здравым смыслом. В случае необходимости

приглашайте специалистов со стороны, но при этом

тщательно контролируйте их работу.

- Постоянно следите за тем, не появились ли

отклонения от нормального хода работы системы.


Слава Богородице!


Обращайте внимание на все необычное, например, на

непонятные журнальные сообщенения или изменение характера

использования какой-либо учетной записи

(резкий рост активности, работа в необычное время,

использование учетной записи во время отпуска ее

владельца).

Опасно, если учетная запись используется

несколькими людьми.

Пакет JailKit используется с chroot.


Linux Journal:

Лучший дистрибутив 2017 года по выбору читателей:

1. Debian

2. OpenSUSE

3. Fedora



22.8 Инструментальные средства защиты.

Команда nmap: сканирование сетевых портов.

nmap -sT адрес_сайта

nmap -O определение ОС удаленного узла

Команда host_access: управление доступом к узлу


мы рекомендуем отключить установленный по

умолчанию в файле /etc/hosts.deny с помощью одной

строки : ALL:ALL

Затем вы можете разрешить доступ в конкретных ситуациях

с помощью файла /etc/hosts.alow

Формат записи в файле имеет вид :

служба: узел

или

служба: сеть

Примеры:

sshd: 192.168.0.0/255.255.0.0

sendmail:ALL



Нетбук ASUS EeePC Утонченный нетбук

Debian 8

Linux 3.16.0-5-686-pae

KDE 4.14.2

298,1 ГиБ SATA

ST320LT020-9YG142

Всемирная гарантия

15G1023106G0 VN:6316


Слава Богородице!


Процессор - 3 шт

INTEL

ATOM CPU N2600 @1.60GHz

USB 2.0 UVC VGA WebCam

AzureWave uvcideo videoLinux

Батарея X101CH ASUS

X101CH-BLK027W

SN: C30AAS3


Bro: программная система для распознавания

вторжения в сеть

bro-ids.org

Snort: популярная программная система для

распознавания проникновения в сеть

snort.org

ossec: система для распознавания вторжения в сеть

на уровне узла

Конфигурацией системы SELinux управляет файл

/etc/selinux/config

В нем строка:

SELINUX=enforcing или SELINUX=permissive


22.10 Cистемы криптографической защиты

Kerberos, используя алгоритм DES, улучшает

традиционную схему парольной защиты всего 2-мя

способами: пароли никогда не передаются по сети в

незашифрованном виде и пользователи избавляются от

необходимости многократно вводить пароли.


PGP: высокая конфиденциальность.

Пакет PGP (Pretty Good Privacy) содержит криптографические

утилиты, ориентированные в основном на безопасность систем

электронной почты.

gnupg.org


Браузерные движки:

Trident

Gecko

KHTML

WebKit

Presto

BLink

Edge...


Он используется дл шифрования данных, генерирования сигнатур

и проверки источников происхождения файлов и сообщений.


SSH: безопасная оболочка

Система SSH является безопасной заменой утилит rlogin,

rcp и telnet.


Пакет stunnel.

Это открытый пакет, который шифрует TCP-соединения

аналогично протоколу SSH. Он использует протокол SSL

для создания сквозных туннелей, передающих данные

незашифрованной службе и обратно.


Классика жанра: Ну, юзер, погоди!!!

http://www.xakep.ru

securitylab.ru


Он хорошо работает с небезопасными службами,

такими как Telnet, IMAP и POP.

stunnel.org


22.1 Брандмауэры.

Иногда используется 2-х ступенчатая фильтрация:

интернет ----- 1 шлюз фильтр ----- 2 шлюз фильтр --- локальная сеть

1 - относительно открытый

2 - консервативный

Наиболее безопасным способом использования фильтрации

пакетов является настройка первоначальной конфигурации,

которая не позволяет никаких входящих соединений.

Затем можно постепенно ослабить фильтрацию,

выяснив полезные службы, которые не работают и перенеся

все

службы, доступные в инернете, в демилитаризованную зону

(DMZ).

Сеть становится безопасной благодаря бдительности

сисадмина.


ОС мобилок с открытым кодом:

Ubuntu Phone

HP webOS

Samsung Tizen

Jolla Sailfish

Firefox OS

Nokia X


cтр 983 pdf iptables


iptables -L -v для отладки цепочек правил


22.13 Модуль IPFilter для систем UNIX cтр 985 pdf

Файлы-конфиги - /etc/ipf.conf

или /etc/ipf/ipf.conf

содержат правила фильтрации.


Триада CIA:

Конфиденциальность С

Целостность I

Доступность A


Слава Богородице!!!

Безопасность - это процесс...


План в случае кризиса:

1. Не паникуйте. Don`t panic.

2. Определите адекватную реакцию.

3. Соберите всю возможную информацию.

4. Оцените нанесенный ущерб.

5. Выдерните шнур.

6. Разработайте стратегию восстановления.

7. Сообщите о своем плане.

8. Воплотите план в жизнь.

9. Сообщите об инциденте в соответствующие органы

- cert@cert.org


Сайты по безопасности :

securityfocus.com

sans.org

owasp.org

schneier.com/cripto-gram.html

linuxsecurity.com

lwn.net/security


Инструкция по обнаружению взлома:

cert.org/tech_tips/win-unix-system_compomise.html


23.1. Основы веб-хостинга.

Чаще всего CGI-сценарии написаны на Perl, Python или PHP.


24.4. Виртуализация с помощью системы linux.

За звание чемпиона по виртуализации системы LINUX соперничают две платформы

XEN и KVM.


Слава Богородице!!!!


Вот как можно распечатать файлы foo.pdf и /tmp/testprint.pdf :

$ lpr foo.pdf /tmp/testprint.pdf

lpstat -t - хороший сводный отчет об общем состоянии сервера печати


/etc/cups/cups.conf - конфигурационный файл демона печати CUPS


Cекретный код моего домофона VIZIT в подъезде:

#1234


Программа KDEPrint включает средства для добавления

принтеров, администрирования заданий на печать, перезапуска

серверов печати и так далее.

Семейство URI-адресов

print: является в веб-браузере Konqueror шлюзом к

KDEPrint.

При вводе URI-адреса print:/ отображается перечень всех

возможностей, при вводе print:/jobs -

перечень всех заданий на печать, а при вводе

print:/manager внутри Konqueror запускается

программа PRINT MANAGER.


Система CUPS является веб-браузером.


Пример сайта:

<!DOCTYPE html>
<HTML>
<HEAD>
<TITLE> Сайт Оли </TITLE>
</HEAD>
<BODY>
<p> Сайт Оли </p>
</BODY>
</HTML>

Принтер - это тот же компьютер.

linuxprinting.org - база данных принтеров

Foomatic - проверка, хорошо ли принтер работает с LINUX.

Оценка Perfectly = отлично. :-)

Paperweight = пресс-папье...




Продолжение следует...
